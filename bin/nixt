#!/usr/bin/env python3
# This file is placed in the Public Domain.
# pylint: disable=C,I,R,W0212
# ruff: noqa: E402


"cli"


import os
import sys


from nixt.config  import config
from nixt.main    import cmnd, scan, wrap
from nixt.parse   import parse
from nixt.utils   import modnames


cfg = config()
cfg.mod = "cmd,err,mod,skl,srv,thr"


def main():
    "main"
    parse(cfg, " ".join(sys.argv[1:]))
    from nixt.modules import all as modules
    cfg.mod = ",".join(modnames(modules))
    scan(cfg.mod, modules)
    cmnd(cfg.otxt, print)


if __name__ == "__main__":
    wrap(main)
    os._exit(0)
