#!/usr/bin/env python3
# This file is placed in the Public Domain.
# pylint: disable=C0413,W0611


"prompt"


import getpass
import os
import readline
import sys
import termios


sys.path.insert(0, os.getcwd())


from nixt.thread import errors
from nixt.object import Default, construct, fmt
from nixt.main   import Broker, Client, Commands, Config, Event
from nixt.main   import command, forever, modnames, parse, wrap
from nixt.mods   import face


Cfg = Config("objbot")
Cfg.mod = ",".join(modnames(face))


class CLI(Client):

    def raw(self, txt):
        print(txt)


def main():
    "main"
    parse(Cfg, " ".join(sys.argv[1:]))
    if Cfg.txt:
        evt = Event()
        parse(evt, Cfg.otxt)
        clt = CLI()
        command(clt, evt)


if __name__ == "__main__":
    wrap(main)
    errors(print)
